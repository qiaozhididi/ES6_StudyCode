<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        // string常用方法
        // 1.substring (start开始位置的索引,end结束位置索引) 截取的位置不包含结束位置的字符,只写一个参数表示从开始位置截取到最后
        var str = 'abcdefga'
        console.log(str.substring(1)) //得到bcdefg
        console.log(str.substring(1, 3)) //得到bc
            // 2.slice(start开始位置索引，end结束位置索引) 基本和substring相似,区别在参数为负数。
            //输入负值时 值与字符串长度相加
        console.log(str.slice(-1)) // =>slice(6) g
        console.log(str.slice(1, -2)) // =>slice(1,5) bcde
        console.log(str.slice(-2, -1)) //=>slice(5,6) f
            // 值绝对值大于字符串的长度时变为 0
        console.log(str.slice(-29)) //=>str.substring(0) //abcdefg
            //第2个参数绝对值于字符串的长度时，返回''
        console.log(str.slice(-1, -29))
            //3.3.substr(start开始位置索引,end需要返回的字符个数)
        console.log(str.substr(1)) //=>bcdefg
        console.log(str.substr(1, 2)) //=>bc
            //输入负值时 start参数与字符串的长度相加 ,end为负时参数变为0
        console.log(str.substr(-1)) //=>substr(6) 
        console.log(str.substr(-2, -3)) //''
            // 4.charAt(index) 方法返回指定索引位置处的字符。如果超出有效范围(0与字符串长度减一)的索引值返回空字符串.
        console.log(str.charAt(2)) //c
        console.log(str.charAt(8)) //''
            // 5.index(string)  返回String对象内第一次出现子字符串位置。如果没有找到子字符串，则返回-1。
        console.log(str.indexOf('b'))
        console.log(str.indexOf('k'))
            // 6.lastIndexOf(string)  倒叙查找 返回String对象内第一次出现子字符串位置。如果没有找到子字符串，则返回-1。
        console.log(str.lastIndexOf('a'))
        console.log(str.lastIndexOf('i'))
            // 7.split(str)  将字符串以参数分割为数组
        console.log(str.split('a')) //(3) ["", "bcdefg", ""]
            // 8. toLowerCase方法返回一个字符串，该字符串中的字母被转换成小写。
        var str1 = 'ABCDEFGA'
        console.log(str1.toLowerCase())
            // 9. toUpperCase方法返回一个字符串，该字符串中的所有字母都被转换为大写字母。
        console.log(str.toUpperCase())
            // 10.match() – 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配
        console.log(str.match('a'))
            // 11.search  方法返回与正则表达式查找内容匹配的第一个字符串的位置。
        console.log(str.search("bcd"))
            // 12.replace 用来查找匹配一个正则表达式的字符串，然后使用新字符串代替匹配
        console.log(str.replace(/ef/, "xz"))
            // 数组常用方法
            //1. push      添加到最后        返回添加后的数组
        let arr = ["a", "b", "c", "f", "g"]
        arr.push("d")
        console.log(arr)
            //2. unshift 添加到最前面 返回添加后的数组
        arr.unshift("z")
        console.log(arr)
            //3. shift     删除（从前面）    返回处理后的数组
        arr.shift()
        console.log(arr)
            //4. pop       删除最后一项      返回处理后的数组
        arr.pop()
        console.log(arr)
            //5. reverse   数组翻转          返回处理后的数组
        arr.reverse()
        console.log(arr)
            // 6. join      数组转化为字符串
        str2 = arr.join(',')
        console.log(str2)
            //7. slice(start,end)     截取数组 从start（开始） 到end（结束 不包含）
        newarr = arr.slice(1, 4)
        console.log(newarr)
            //8. concat   数组合并
        let arr2 = arr.concat(newarr)
        console.log(arr2)
            //9. splice（开始下标,个数,ele1,ele2....） 剪接数组
            //  (1).一个参数  从参数位置截取 填写负数类似上面str slice  返回截好的数组 原数组变化
        console.log(arr.splice(1)); // [f,c,b,a]
        console.log(arr); // [g]
        console.log(arr2.splice(-1)) // [b]
            //  (2).二个参数  截取 （开始位置，个数） 返回截好的数组 原数组变化
        var arr3 = [1, 2, 3, 4, 5]
        console.log(arr3.splice(1, 3)) //[2,3,4]
        console.log(arr3) //[1,5]
            // arr.splice(0, 1) => arr.shift()
            // arr.splcie(arr.length - 1, 1) => arr.pop()
            //    (3).添加  原数组增加
        console.log(arr3.splice(3, 0, 4, 10)) //[]
        console.log(arr3) //[1, 5, 4, 10]
            //  (4).替换
        console.log(arr3.splice(1, 2, 'a', 'b')) //[5,4]
        console.log(arr3); // [1,'a','b',10]
        // arr.splice(0, 0, 1) => arr.unshift(1);
        // arr.splice(arr.length, 0, 1) => arr.push(1)
        //  10. arr.forEach(item,index,array){}   遍历，循环 类似jquery的each
        var arr4 = ['a', 'b', 'c', 'd']
        arr4.forEach(function(a) {
                console.log(a)
            })
            // 11. map方法 映射 用法和forEach类似
        var arr5 = [2, 4, 6, 8]
        const map1 = arr5.map(x => x * 2)
        console.log(map1)
            //  12. arr.sort  排序
            //  默认情况下sort方法是按ascii字母顺序排序的，而非我们认为是按数字大小排序
        var arr6 = [1, 7, 8, 3, 57, 14, 99]
        console.log(arr6.sort())

        // 方法
        // 1.冒泡排序 每次比较相邻的两个数，如果后一个数比前一个数小，换位置
        function bSort(arr) {
            var tmp;
            for (var i = 0, len = arr.length - 1; i < len; i++) {
                for (var j = 0; j < len; j++) {
                    if (arr[j] > arr[j + 1]) {
                        //换位置
                        tmp = arr[j + 1];
                        arr[j + 1] = arr[j];
                        arr[j] = tmp;
                    }
                }
            }
            return arr;
        }

        function bSort(arr) {
            var tmp;
            arr.forEach(function(item, i) {
                arr.forEach(function(item, i) {
                    if (item > arr[i + 1]) {
                        //换位置
                        tmp = arr[i + 1];
                        arr[i + 1] = arr[i];
                        arr[i] = tmp;
                    }
                })
            })
            return arr
        }

        //2.快速排序 二分法，找到中间的数,取出来(新数组)，原数组没，每次和此数比较，小的放到左边，大的放到右面     
        function fastSoft(arr) {
            var len = arr.length;
            if (len <= 1) {
                return arr
            }
            var cIndex = Math.floor(len / 2),
                c = arr.splice(c, 1),
                left = [],
                right = [];
            arr.forEach(function(item, i) {
                if (item < c[0]) {
                    left.push(item);
                } else {
                    right.push(item);
                }
            })
            return fastSoft(left).concat(c, fastSoft(right));
        }
        //3.数组去重 双层循环
        var arra = [2, 3, 2, 2, 2, 4, 5],
            arra2 = [];

        function find(arra2, ele) {
            for (var i = 0, len = arra2.length; i < len; i++) {
                if (arra2[i] == ele) return true;
            }
            return false;
        }
        for (var i = 0, len = arra.length; i < len; i++) {
            if (!find(arra2, arra[i])) {
                arra2.push(arra[i]);
            }
        }
        //4.利用json的key值无重复
        var arra1 = [2, 3, 2, 2, 2, 4, 5],
            json = {},
            arra3 = [];
        arra1.forEach(function(item, i) {
            if (!json[item]) {
                json[item] = 222;
            }
        });
        for (var name in json) {
            arra3.push(Number(name)); //类型发生变化了
        }
        //利用sort方法排序，去掉旁边相同项
        var array = [2, 3, 2, 4, 4, 4, 5],
            array2 = [];
        array.sort();
        for (var i = 0; i < array.length; i++) {
            if (array[i] == array[i + 1]) {
                array.splice(i--, 1);
            }
        }
        //数组和字符串的综合应用
        //1.截取后缀名
        str3 = 'tom.jpg'
        str3 = str.substring(str.lastIndexOf('.') + 1);
        var arr6 = str3.split('.');
        console.log(arr6[arr6.length - 1]);
        //2.字母翻转，首字母大写
        var str4 = 'wo shi yi ge demo',
            arr7 = str4.split(' ');
        for (var i = 0; i < arr7.length; i++) {
            console.log()
            arr7[i] = arr7[i].charAt(0).toUpperCase() + arr7[i].substring(1);
        }
        arr7.reverse();
        str5 = arr7.join(' ');
        //3.str中字符出现次数的统计         
        var str = 'aaaandkdffsfsdfsfssq12345',
            json = {},
            n = 0,
            sName;
        for (var i = 0, len = str.length; i < len; i++) {
            var Letter = str.charAt(i);
            //统计次数
            if (json[Letter]) {
                json[Letter]++;
            } else {
                json[Letter] = 1;
            }
        }
        //找最大
        for (var name in json) {
            if (json[name] > n) {
                n = json[name];
                sName = name;
            }
        }
        console.log('出现最多的字母' + sName + '次数为' + n);
        //简单的url参数解析
        function getData() {
            var search = window.location.search.substring(1);
            if (!search) {
                return;
            }
            var array3 = search.split('&'),
                array4 = [],
                json = {},
                key,
                alue;
            for (var i = 0; i < array3.length; i++) {
                array4 = array3[i].split('=');
                key = array4[0];
                value = array4[1];
                json[key] = value;
            }
            return json;
        }
        // Math函数的常用方法
        //1，Math.abs() 获取绝对值
        console.log(Math.abs(-12))
            //2，Math.ceil() and Math.floor()
        console.log(Math.ceil(12.03)); //13
        console.log(Math.ceil(12.92)); //13
        console.log(Math.floor(12.3)); //12
        console.log(Math.floor(12.9)); //12
        //3.Math.round() 四舍五入
        console.log(Math.round(-16.3))
        console.log(Math.round(-16.51))
            //4.Math.random() 取[0,1)的随机小数
            //获取[0,10]的随机整数
        console.log(parseInt(Math.random() * 10)); //未包含10
        console.log(parseInt(Math.random() * 10 + 1)); //包含10
        //获取[n,m]之间的随机整数
        Math.round(Math.random() * (m - n) + n)
            //5，Math.max() and Max.min() 获取一组数据中的最大值和最小值
        console.log(Math.max(10, 1, 9, 100, 200, 45, 78));
        console.log(Math.min(10, 1, 9, 100, 200, 45, 78));
        //6，Math.PI 获取圆周率π 的值
        console.log(Math.PI);
        //7，Math.pow() and Math.sqrt() 
        // Math.pow() 获取一个值的多少次幂
        // Math.sqrt() 对数值开方
        console.log(Math.pow(10, 2))
        console.log(Math.sqrt(100))
    </script>
</body>

</html>